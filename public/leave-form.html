<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>휴가 신고</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>
<body>
    <div class="container">
        <header>
            <a href="main.html" class="back-button">← 돌아가기</a>
            <h1>휴가 신고</h1>
        </header>

        <main>
            <form id="leaveForm" class="form-container">
                <div class="form-group">
                    <label for="leaveType">휴가 종류 *</label>
                    <select id="leaveType" name="leaveType" required>
                        <option value="">선택하세요</option>
                        <option value="전일휴가">전일휴가 (1일 이상의 휴가는 전일휴가 선택)</option>
                        <option value="반차휴가">반차휴가</option>
                        <option value="반반차휴가">반반차휴가</option>
                        <option value="반차휴가 + 반반차 휴가">반차휴가 + 반반차 휴가</option>
                        <option value="경조휴가">경조휴가</option>
                    </select>
                    <small style="color: #667eea; font-size: 12px; margin-top: 5px; display: block;">※ 1일 이상의 휴가는 전일휴가를 선택하세요</small>
                </div>

                <div class="form-group">
                    <label for="leaveDays">휴가일수 *</label>
                    <select id="leaveDays" name="leaveDays" required>
                        <option value="">선택하세요</option>
                        <option value="0.25">0.25일 (반반차)</option>
                        <option value="0.5">0.5일 (반차)</option>
                        <option value="0.75">0.75일</option>
                        <option value="1">1일</option>
                        <option value="1.25">1.25일</option>
                        <option value="1.5">1.5일</option>
                        <option value="1.75">1.75일</option>
                        <option value="2">2일</option>
                        <option value="2.25">2.25일</option>
                        <option value="2.5">2.5일</option>
                        <option value="2.75">2.75일</option>
                        <option value="3">3일</option>
                        <option value="3.25">3.25일</option>
                        <option value="3.5">3.5일</option>
                        <option value="3.75">3.75일</option>
                        <option value="4">4일</option>
                        <option value="4.25">4.25일</option>
                        <option value="4.5">4.5일</option>
                        <option value="4.75">4.75일</option>
                        <option value="5">5일</option>
                        <option value="기타">기타 (직접입력)</option>
                    </select>
                </div>

                <div class="form-group" id="customDaysGroup" style="display: none;">
                    <label for="customDays">휴가일수 입력</label>
                    <input type="number" id="customDays" name="customDays" min="0" step="0.25" placeholder="휴가일수를 입력하세요">
                </div>

                <div class="form-group">
                    <label for="startDate">시작 일자 *</label>
                    <input type="date" id="startDate" name="startDate" required>
                </div>

                <div class="form-group">
                    <label for="endDate">종료 일자 *</label>
                    <input type="date" id="endDate" name="endDate" required>
                </div>

                <div class="form-group" id="timeSelectGroup">
                    <label for="timeSelect">시간 선택 *</label>
                    <select id="timeSelect" name="timeSelect" required>
                        <option value="">선택하세요</option>
                    </select>
                </div>

                <div class="form-group" id="startTimeGroup" style="display: none;">
                    <label>시작 시간 (시작일에 시작시간 입력) *</label>
                    <div class="time-input-group">
                        <select id="startHour" name="startHour" class="time-select">
                            <option value="">시</option>
                        </select>
                        <span>:</span>
                        <select id="startMinute" name="startMinute" class="time-select">
                            <option value="">분</option>
                        </select>
                    </div>
                </div>

                <div class="form-group" id="endTimeGroup" style="display: none;">
                    <label>종료 시간 (종료일에 종료시간 입력) *</label>
                    <div class="time-input-group">
                        <select id="endHour" name="endHour" class="time-select">
                            <option value="">시</option>
                        </select>
                        <span>:</span>
                        <select id="endMinute" name="endMinute" class="time-select">
                            <option value="">분</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="reason">공유사항</label>
                    <textarea id="reason" name="reason" rows="3" placeholder="- 휴가 기간에 구성원들에게 공유할 내용이 있는 경우 작성&#10;- 경조휴가의 경우 사유 작성(예 : 결혼기념일, 이사 등)"></textarea>
                </div>

                <div class="button-group">
                    <button type="submit" class="btn-primary">제출</button>
                </div>
            </form>

            <div id="message" class="message"></div>
        </main>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <!-- Flatpickr -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ko.js"></script>

    <script src="firebase-config.js?v=20251118"></script>
    <script src="auth.js?v=20251118"></script>
    <script src="leave-form.js?v=20251118"></script>
</body>
</html>
