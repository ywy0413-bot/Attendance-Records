# 빠른 시작 가이드

## 개요
휴가 및 근태 신고 시스템의 빠른 시작 가이드입니다.

## 1. 로컬 테스트 (Firebase 없이)

### 현재 상태로 테스트
서버가 이미 실행 중입니다:
```
http://localhost:3000
또는
http://192.168.1.186:3000 (모바일)
```

테스트 계정:
- user1@company.com / 1234
- user2@company.com / 5678
- admin@company.com / 0000

## 2. Firebase 배포 (권장)

### 왜 Firebase를 사용해야 하나요?
- ✅ **어디서든 접속 가능**: 모바일, 집, 사무실 어디서나
- ✅ **PC 켜짐 불필요**: 항상 온라인
- ✅ **무료**: 소규모 조직은 무료 플랜으로 충분
- ✅ **실시간 데이터베이스**: Firestore 사용
- ✅ **SSL/HTTPS**: 보안 연결 자동 제공

### Firebase 배포 단계

#### Step 1: Firebase 프로젝트 생성
1. https://console.firebase.google.com/ 접속
2. "프로젝트 추가" 클릭
3. 프로젝트 이름 입력 (예: attendance-system)
4. Google Analytics 비활성화 (선택사항)
5. 프로젝트 생성

#### Step 2: Firestore 데이터베이스 활성화
1. 좌측 메뉴에서 "Firestore Database" 선택
2. "데이터베이스 만들기" 클릭
3. **테스트 모드**로 시작 (나중에 변경 가능)
4. 위치: **asia-northeast3 (Seoul)** 선택

#### Step 3: 웹 앱 등록
1. 프로젝트 설정 (⚙️ 아이콘) 클릭
2. "내 앱" → 웹 아이콘 (</>) 클릭
3. 앱 닉네임: attendance-app
4. "Firebase Hosting 설정" 체크
5. "앱 등록" 클릭

#### Step 4: Firebase 구성 정보 복사
표시되는 구성 정보를 [firebase-config.js](firebase-config.js) 파일에 붙여넣기:

```javascript
const firebaseConfig = {
    apiKey: "복사한_API_KEY",
    authDomain: "복사한_AUTH_DOMAIN",
    projectId: "복사한_PROJECT_ID",
    storageBucket: "복사한_STORAGE_BUCKET",
    messagingSenderId: "복사한_SENDER_ID",
    appId: "복사한_APP_ID"
};
```

#### Step 5: 관리자 계정 생성
Firestore에서 첫 관리자 계정 추가:

1. Firestore Database → "컬렉션 시작"
2. 컬렉션 ID: `users`
3. 문서 추가:
   - **문서 ID**: admin@company.com
   - **필드 추가**:
     - email (string): admin@company.com
     - name (string): 관리자
     - pin (string): 0000
     - department (string): 관리팀
     - createdAt (timestamp): 현재 시간 선택

#### Step 6: Firebase CLI 설치
```bash
npm install -g firebase-tools
```

#### Step 7: Firebase 로그인
```bash
firebase login
```

#### Step 8: 프로젝트 초기화
```bash
firebase init
```

선택:
- Hosting ✓
- Firestore ✓

설정:
- 기존 프로젝트 선택: 생성한 프로젝트 선택
- Firestore rules: firestore.rules (엔터)
- Firestore indexes: firestore.indexes.json (엔터)
- Public directory: public (엔터)
- SPA: No (엔터)
- GitHub: No (엔터)

#### Step 9: public 폴더에 파일 복사
```bash
mkdir public
cp *.html public/
cp *.css public/
cp *.js public/
cp firebase-config.js public/
```

**중요**: public/login.html이 Firebase SDK를 포함하는지 확인!

#### Step 10: 배포
```bash
firebase deploy
```

완료! 표시된 URL로 접속:
```
https://your-project-id.web.app
```

## 3. 사용 방법

### 첫 로그인 (관리자)
1. 배포된 URL 또는 localhost 접속
2. admin@company.com / 0000 로그인
3. "자동 로그인" 체크 권장

### 사용자 추가
1. 로그인 후 관리자 페이지 접속
2. 새 사용자 정보 입력:
   - 이메일: user@company.com
   - 이름: 홍길동
   - PIN: 1234
   - 부서: 개발팀
3. "사용자 추가" 클릭

### 휴가 신고
1. 메인 페이지 → "휴가 신고"
2. 신고자는 자동 입력 (로그인한 이메일)
3. 휴가 정보 입력
4. 제출

### 근태 신고
1. 메인 페이지 → "근태 신고"
2. 신고자는 자동 입력
3. 근태 정보 입력
4. 제출

## 4. 관리자 기능

### 사용자 관리
- **추가**: 새 사용자 등록
- **수정**: 사용자 정보 변경
- **삭제**: 사용자 삭제
- **검색**: 이메일/이름으로 검색

### 관리자 권한
[admin.js](admin.js) 파일에서 관리자 이메일 설정:
```javascript
const adminEmails = ['admin@company.com', 'manager@company.com'];
```

## 5. 모바일 사용

### Firebase 배포 후
```
https://your-project-id.web.app
```
- Wi-Fi, LTE, 5G 어디서든 접속 가능
- 모바일 북마크에 추가 권장

### 로컬 테스트 (같은 Wi-Fi만)
```
http://192.168.1.186:3000
```

## 6. 이메일 발송 설정

현재는 이메일 발송 기능이 구현되어 있지만, Firebase로 배포 시 추가 설정이 필요합니다.

자세한 내용은 [Firebase배포가이드.md](Firebase배포가이드.md) 참조.

## 7. 문제 해결

### "등록되지 않은 이메일입니다"
→ Firestore에서 users 컬렉션에 해당 이메일 추가

### 관리자 페이지가 안 보임
→ [index.html](index.html)의 adminEmails 배열에 이메일 추가

### Firebase 배포 오류
```bash
firebase deploy --debug
```

### Firestore 연결 오류
→ [firebase-config.js](firebase-config.js)의 설정 확인

## 8. 다음 단계

✅ Firebase 배포 완료
✅ 관리자 계정 생성
✅ 사용자 추가
✅ 모바일 테스트
✅ 팀원들과 공유

## 지원

자세한 내용:
- [Firebase배포가이드.md](Firebase배포가이드.md)
- [README.md](README.md)
- Firebase 문서: https://firebase.google.com/docs
